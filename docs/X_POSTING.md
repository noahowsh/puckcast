# X Posting Guide

Current post types (all configured in `twitter-daily.yml` and `twitter-weekly-posts.yml`):
- `morning_slate` — full slate matchup list with team @handles; threads automatically if >280 chars.
- `team_highlight` — single-game spotlight (top edge).
- `results_recap` — prior-day recap (hits/misses if results are available).
- `tomorrow_tease` — simple “predictions drop at 8am ET” reminder.

## Automations

### Daily (twitter-daily.yml)
- Schedule (UTC):
  - 13:00 → `morning_slate` (8:00 AM ET)
  - 19:30 → `team_highlight` (2:30 PM ET)
  - 22:30 → `results_recap` (5:30 PM ET)
  - 02:30 → `tomorrow_tease` (9:30 PM ET prev day in ET)
- Concurrency: `twitter-daily` (no overlap).
- Data dependency: expects `web/src/data/todaysPredictions.json` to already exist (generated by `predict_full.py` / scheduled refresh). Does **not** regenerate predictions.

### Weekly (twitter-weekly-posts.yml)
- Schedules:
  - 15:00 UTC daily → `team_highlight` (11:00 AM ET)
  - 19:00 UTC on Wed/Fri → `results_recap` (3:00 PM ET)
- Uses the same post types as daily to avoid unsupported options.

## Content formats

- **Morning slate**:  
  `NHL game predictions for {date} (Puckcast)`  
  Per-game lines: `{AWAY} @ {HOME} — {FAV} {prob}% {away_handle} {home_handle}`  
  Includes all games; threads if necessary. If no games: “No NHL games today. Next slate drops at 8am ET.”

- **Team highlight**:  
  `Spotlight: {team}`  
  `Next up: {opponent} ({start_time})`  
  `Model lean: {favorite} {prob}%`  
  `Edge: {edge_pts} pts`  
  Tags: two team handles.

- **Results recap**:  
  `{date} recap: {correct}/{total} correct ({accuracy}%)`  
  `Hits: {hits}`  
  `Misses: {misses}`  
  Uses archived predictions + live scores when available; otherwise will show 0/0 if nothing to report.

- **Tomorrow tease**:  
  `Tomorrow’s predictions drop at 8am ET ⏰ ({date})`  
  Simple reminder with optional site link (kept minimal).

## Team handles
Mapped in `scripts/twitter_ab_testing.py` via `TEAM_HANDLES` (fallback to `#ABB` if unknown). Examples:  
`@MapleLeafs @NYRangers @DallasStars @Avalanche @TBLightning @penguins @SeattleKraken ...`

## Manual posting (local)
```
python predict_full.py
python scripts/post_to_twitter.py --post-type morning_slate   # or other post_type
```
Requires X credentials (`TWITTER_API_KEY`, `TWITTER_API_SECRET`, `TWITTER_ACCESS_TOKEN`, `TWITTER_ACCESS_SECRET`, optional `TWITTER_BEARER_TOKEN`) and `tweepy`.

## Notes
- Morning slate is URL-free (just matchups + handles) and threads automatically.
- Daily workflow will fail fast if predictions payload is missing/stale; run `predict_full.py` or scheduled refresh first.
- Please update this file when changing schedules, formats, or supported post types.
